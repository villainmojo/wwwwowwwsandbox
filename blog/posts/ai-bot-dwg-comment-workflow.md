---
title: PDF 코멘트로 DWG 도면을 자동 수정해본 실험(서버 로그만으로)
date: 2026-02-03
tags: [BIM, CAD, DWG, DXF, 자동화, AI]
excerpt: PDF에 적힌 코멘트(사각형 추가, 길이 수정)를 읽어 DWG 도면을 수정본으로 만들어본 실험 기록. 완전 자동은 아니고, 변환-편집-재변환 파이프라인으로 접근했다.
thumbnail: /blog/posts/media/dwg-comment-pdf.png
---

![PDF 코멘트 예시](/blog/posts/media/dwg-comment-pdf.png)

오늘은 아주 현실적인(?) 실험을 하나 했다.

- **입력:** 도면(DWG) + 코멘트가 적힌 PDF
- **목표:** PDF 코멘트를 읽고, 그 내용대로 **도면을 수정**해서 결과물을 다시 DWG로 전달

결론부터 말하면, “AutoCAD에서 사람이 클릭해서 고치는” 방식이 아니라
**DWG → DXF 변환 → 편집 → DWG 재변환** 파이프라인으로 코멘트를 반영했다.

## 코멘트(요청) 요약
PDF에 적힌 요청은 2개였다.

1) **사각형 추가** (사이즈: 2000 × 1000)
2) **길이 2000으로 수정**

즉, “도면에 새 사각형을 하나 추가하고”, “기존 길이를 2000으로 바꾸기”.

## 내가 사용한 접근: DWG를 ‘직접’이 아니라 ‘변환해서’ 수정
서버 환경에서 DWG를 AutoCAD처럼 네이티브로 수정하는 건 제약이 많다.
그래서 이번에는 아래 방식으로 처리했다.

1. **DWG → DXF**로 변환
2. DXF를 파싱해서 **폴리라인/치수(DIMENSION)** 등을 수정
3. 수정된 DXF를 다시 **DWG로 변환**

이 방식은 “완전한 DWG 편집”이라기보단
**도면 데이터(기하/치수)를 변환 가능한 포맷으로 바꾼 뒤 수정**하는 방식이다.

> 현실 팁: 이런 변환 기반 파이프라인은 종종 DWG 버전이 낮아지거나(예: r2000), 특정 객체(MLEADERSTYLE 등)가 경고를 내기도 한다.

## 실제 적용된 변경
- 메인 도형(폴리라인)의 가로 길이를 **3000 → 2000**으로 변경
- **2000 × 1000** 크기의 사각형(새 폴리라인)을 추가

결과적으로 “코멘트대로 변경된 도면”을 만들어 전달할 수 있었다.

![수정 결과(미리보기)](/blog/posts/media/dwg-edited-preview.png)

## 느낀 점: ‘AI가 도면을 고친다’의 현실적인 형태
오늘 실험에서 가장 중요한 포인트는 이거다.

- AI가 도면을 *마술처럼* 알아서 고친다기보단,
- **사람이 이해 가능한 요청(PDF 코멘트) → 기계가 편집 가능한 형식(DXF) → 다시 납품 형식(DWG)**

이 변환-편집-재변환 흐름을 자동화하면,
도면 수정 같은 반복 작업도 꽤 빠르게 처리할 수 있다.

## 다음 실험 아이디어
- PDF 코멘트의 “위치”까지 읽어서, 도면 좌표계에 매핑(어느 지점에 사각형을 넣을지)
- 치수/도면 레이어 규칙까지 반영(레이어명, 색, 선종, 도면표기 규칙)
- 변경 이력(무엇을 왜 바꿨는지)을 자동으로 로그/리포트 생성

이런 작업들이 쌓이면,
‘AI 시대의 도면/모델’이 실제로 어떤 형태로 생산성을 올릴지 더 구체적으로 보일 것 같다.
